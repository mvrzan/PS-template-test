{
  "task_routing": {
    "filters": [
      {
        "filter_friendly_name": "Primaire",
        "expression": "subject_group == \"primaire\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS 'primaire' AND worker.routing.skills HAS task.language",
            "timeout": 5
          },
          {
            "expression": "worker.routing.skills HAS 'primaire'"
          }
        ]
      },
      {
        "filter_friendly_name": "Math 1_2",
        "expression": "subject_group == \"math_1_2\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS \"math_secondaire_1-2\" AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "worker.routing.skills HAS \"math_secondaire_1-2\""
          }
        ]
      },
      {
        "filter_friendly_name": "Math 3_5",
        "expression": "subject_group == \"math_3_5\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS \"math_secondaire_3-5\" AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "worker.routing.skills HAS \"math_secondaire_3-5\""
          }
        ]
      },
      {
        "filter_friendly_name": "Français",
        "expression": "subject_group == \"francais\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS \"francais_secondaire\" AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "worker.routing.skills HAS \"francais_secondaire\""
          }
        ]
      },
      {
        "filter_friendly_name": "Sciences",
        "expression": "subject_group == \"sciences\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "(worker.routing.skills HAS \"sciences_secondaire\"OR worker.routing.skills HAS \"physique\"OR worker.routing.skills HAS \"chimie\") AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "(worker.routing.skills HAS \"sciences_secondaire\"OR worker.routing.skills HAS \"physique\"OR worker.routing.skills HAS \"chimie\")"
          }
        ]
      },
      {
        "filter_friendly_name": "Géo & Histoire",
        "expression": "subject_group == \"geo_histoire\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "(worker.routing.skills HAS \"geographie_secondaire\"OR worker.routing.skills HAS \"histoire_secondaire\"OR worker.routing.skills HAS \"monde_contemporain\") AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "(worker.routing.skills HAS \"geographie_secondaire\"OR worker.routing.skills HAS \"histoire_secondaire\"OR worker.routing.skills HAS \"monde_contemporain\")"
          }
        ]
      },
      {
        "filter_friendly_name": "Anglais",
        "expression": "subject_group == \"anglais\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS \"anglais_secondaire\" AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "worker.routing.skills HAS \"anglais_secondaire\""
          }
        ]
      },
      {
        "filter_friendly_name": "Autre",
        "expression": "subject_group == \"autre\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "(worker.routing.skills HAS \"education_financiere\"OR worker.routing.skills HAS \"monde_contemporain\") AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "(worker.routing.skills HAS \"education_financiere\"OR worker.routing.skills HAS \"monde_contemporain\")"
          }
        ]
      },
      {
        "filter_friendly_name": "Parents",
        "expression": "subject_group == \"parents\"",
        "targets": [
          {
            "queue": "${QUEUE_SID_PROFS}",
            "expression": "worker.routing.skills HAS \"parents\" AND worker.routing.skills HAS task.language",
            "timeout": 10
          },
          {
            "expression": "worker.routing.skills HAS \"parents\""
          }
        ]
      }
    ]
  }
}
